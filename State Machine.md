TODO: Explain what is state machine